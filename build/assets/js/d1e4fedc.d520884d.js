"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[1833],{3078:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var o=n(8471),r=n(4848),i=n(8453);const s={slug:"spell-correct-in-python-part-1",title:"Spell-correct in Python - Part 1",authors:["narendra"],tags:["python","machine-learning","probability","bayes-theorem","nlp"],date:new Date("2018-02-06T00:00:00.000Z")},a="Spell-correct in Python - Part 1",l={authorsImageUrls:[void 0]},d=[{value:"Solution",id:"solution",level:2},{value:"spell_check.py",id:"spell_checkpy",level:3},{value:"Output",id:"output",level:3},{value:"How does it works",id:"how-does-it-works",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"One of the most common problem to face while solving a text processing use case is wrongly spelt words, swapping every wrongly spelt word with a mapping dictionary is a tedious solution. the major problem with this solution is the dictionary keeps growing and hard to manage."}),"\n",(0,r.jsxs)(t.p,{children:["There is a beautiful solution demonstrated by ",(0,r.jsx)(t.a,{href:"http://norvig.com/",children:"Peter Norvig"})," which solves the problem of wrong spelling for 70% of the cases."]}),"\n",(0,r.jsx)(t.h2,{id:"solution",children:"Solution"}),"\n",(0,r.jsx)(t.p,{children:"Here are 36 lines of code which solves the problem fairly easily and quickly. The basic idea here is to find the most probable word to replace the wrongly spelt word up to 2 edits."}),"\n",(0,r.jsx)(t.h3,{id:"spell_checkpy",children:"spell_check.py"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'import re\nfrom collections import Counter\n\ndef words(text): return re.findall(r\'\\w+\', text.lower())\n\n# Note: You\'ll need to provide a text corpus file (big.txt) \n# containing a large amount of text in your target language\nWORDS = Counter(words(open(\'big.txt\').read()))\n\ndef P(word, N=sum(WORDS.values())): \n    "Probability of `word`."\n    return WORDS[word] / N\n\ndef correction(word): \n    "Most probable spelling correction for word."\n    return max(candidates(word), key=P)\n\ndef candidates(word): \n    "Generate possible spelling corrections for word."\n    return (known([word]) or known(edits1(word)) or known(edits2(word)) or [word])\n\ndef known(words): \n    "The subset of `words` that appear in the dictionary of WORDS."\n    return set(w for w in words if w in WORDS)\n\ndef edits1(word):\n    "All edits that are one edit away from `word`."\n    letters    = \'abcdefghijklmnopqrstuvwxyz\'\n    splits     = [(word[:i], word[i:])    for i in range(len(word) + 1)]\n    deletes    = [L + R[1:]               for L, R in splits if R]\n    transposes = [L + R[1] + R[0] + R[2:] for L, R in splits if len(R)>1]\n    replaces   = [L + c + R[1:]           for L, R in splits if R for c in letters]\n    inserts    = [L + c + R               for L, R in splits for c in letters]\n    return set(deletes + transposes + replaces + inserts)\n\ndef edits2(word): \n    "All edits that are two edits away from `word`."\n    return (e2 for e1 in edits1(word) for e2 in edits1(e1))\n'})}),"\n",(0,r.jsx)(t.h3,{id:"output",children:"Output"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:">>> correction('speling')\n'spelling'\n\n>>> correction('korrectud')\n'corrected'\n"})}),"\n",(0,r.jsx)(t.h2,{id:"how-does-it-works",children:"How does it works"}),"\n",(0,r.jsx)(t.p,{children:"first of all, we compute the probability of occurrence all the word words in the preferred language in the example above we have chosen English as the language of preference and we will call if the language model."}),"\n",(0,r.jsx)(t.p,{children:"next step is to figure all the possible word can be made after doing two edits (delete, insert, replaces, transposes) to a given word. the example above is limited to only two edits for now"}),"\n",(0,r.jsx)(t.p,{children:"after we have a distinct list of all the possible word the one with the highest probability score in the language model is accepted as the correct spelling."})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var o=n(6540);const r={},i=o.createContext(r);function s(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:t},e.children)}},8471:e=>{e.exports=JSON.parse('{"permalink":"/blog/spell-correct-in-python-part-1","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2018-02-06-spell-correct-in-python-part-1.md","source":"@site/blog/2018-02-06-spell-correct-in-python-part-1.md","title":"Spell-correct in Python - Part 1","description":"One of the most common problem to face while solving a text processing use case is wrongly spelt words, swapping every wrongly spelt word with a mapping dictionary is a tedious solution. the major problem with this solution is the dictionary keeps growing and hard to manage.","date":"2018-02-06T00:00:00.000Z","tags":[{"inline":false,"label":"Python","permalink":"/blog/tags/python","description":"Python programming language"},{"inline":false,"label":"Machine Learning","permalink":"/blog/tags/machine-learning","description":"Machine learning concepts and techniques"},{"inline":false,"label":"Probability","permalink":"/blog/tags/probability","description":"Probability theory and statistics"},{"inline":false,"label":"Bayes\' Theorem","permalink":"/blog/tags/bayes-theorem","description":"Bayesian probability theory"},{"inline":false,"label":"Natural Language Processing","permalink":"/blog/tags/nlp","description":"Natural language processing techniques"}],"readingTime":2.25,"hasTruncateMarker":false,"authors":[{"name":"Narendra Dubey","title":"Builder of Data Systems and Software","url":"https://im-naren.github.io/about/","page":{"permalink":"/blog/authors/narendra"},"socials":{"github":"https://github.com/im-naren","linkedin":"https://www.linkedin.com/in/im-naren/","email":"mailto:naren.dubey@zoho.com"},"imageURL":"https://github.com/im-naren.png","key":"narendra"}],"frontMatter":{"slug":"spell-correct-in-python-part-1","title":"Spell-correct in Python - Part 1","authors":["narendra"],"tags":["python","machine-learning","probability","bayes-theorem","nlp"],"date":"2018-02-06T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Troubleshooting in Redshift","permalink":"/blog/troubleshooting-in-redshift"},"nextItem":{"title":"Introduction To Pandas","permalink":"/blog/introduction-to-pandas"}}')}}]);